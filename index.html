<!doctype html>
<html ng-app="myApp">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" /> 
    <title>AngularJS Filter</title>
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.css">
    <script src="lib/angular/angular.js"></script>
    <script type="text/javascript" src="main.js"></script>
  </head>
  <body>
    <div class="container" style="margin-top: 60px;">

      <div ng-controller="SuperherosCtrl">
        <label>搜索角色或演员</label><input type="text" ng-model="search">
        <table class="table table-bordered table-striped">
          <tr>
            <th>序号</th>
            <!-- ng-click中增加reverse变量改变排序方向 -->
            <th><a href="" ng-click="attr = 'name';">演员</a></th>
            <th><a href="" ng-click="attr = 'character';">角色</a></th>
            <th>操作</th>
          </tr>
          <!-- 在orderBy上增加reverse filter，可以选择正序或倒序 -->
          <tr ng-repeat="actor in avengers.cast track by $index| filter:search | orderBy:attr ">
            <td>{{$index+1}}</td>
            <td>{{actor.name}}</td>
            <td>{{actor.character}}</td>
            <td><button class="btn btn-primary" ng-click="select(actor)">选择该角色</button></td>
          </tr>
        </table>
        <h3>
          选中的角色是{{actor.character}},演员是{{actor.name}}
        </h3>
      </div>
    </div>
  </body>
</html>